# 主从复制  
## 1 原理  
mysql的主从复制实现的原理就是binlog日志，那么我们主节点负责数据库写操作，而从节点负责读操作，这样在从节点上不需要使用事务，
能够大大提升数据库的性能。从节点通过binlog日志来与主节点进行数据同步。  
三台节点，一个master，两个slave，规划如下:  
master | 192.168.0.194  
slave1 | 192.168.0.195  
slave2 | 192.168.0.196  
三台节点操作系统都是CentOS6.9,数据库使用的是mysql5.7。  

## 2 配置master  
### 2.1 创建同步用户  
创建同步用户，比如我们的用户叫'repl'，创建用户语法如下:  
```sql
create user 'repl' identified by 'repl1qaz2wsx';
```

### 2.2 授权  
用户必须具备replication slave权限，除此之外不需要其他的权限。  
```sql
grant replication slave on *.* to 'repl'@'192.168.0.%' identified by 'repl1qaz2wsx';
```

### 2.3 开启binlog日志
binlog就是binary log，二进制日志文件，这个文件记录了mysql所有的dml操作。
通过binlog日志我们可以做数据恢复，做主主复制和主从复制等。  
开启binlog日志:  
在my.cnf配置中添加:
```
server-id=1
log_bin=/var/lib/mysql/mysql-bin
```

至此，主服务器就配置好了。下面配置从服务器。